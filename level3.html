<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Рівень 3</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" 
    integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="icon" type="svg" href="img/favicon.svg">
    <link rel="stylesheet" href="css/notifications.css">
    <link rel="stylesheet" href="css/exit_game.css">
    <link rel="stylesheet" href="css/level3.css">
</head>
<body>
    <div class="game-container">
        <header class="game-header">
            <div class="level-info">
                <h1>Рівень 3</h1>
                <button id="toggle-sound"><i class="fa-solid fa-volume-xmark"></i></button>
            </div>
            <audio id="background-audio" loop>
                <source src="audio/background-music.mp3" type="audio/mpeg">
                Ваш браузер не підтримує цей аудіо елемент.
            </audio>
            <div id="timer" class="timer">Час: 02:00</div>
            <button class="exit-button">Вийти</button>
        </header>
        <div class="game-board" id="gameBoard" style="grid-template-columns: repeat(6, 1fr);"></div>
        <div class="animation-container">
            <dotlottie-player src="https://lottie.host/fcde9ae6-00e4-4e47-8166-66c2e261f164/nTJrFHLppT.json" 
            background="transparent" speed="1" loop autoplay></dotlottie-player>
        </div>
    </div>
    <!-- Завершити проходження рівня -->
    <div class="modal">
        <div class="modal-content">
            <p>Ви впевнені, що хочете завершити гру?<br>Результат не буде збережено.</p>
            <div class="modal-buttons">
                <button class="modal-cancel">Скасувати</button>
                <button class="modal-confirm">Завершити</button>
            </div>
        </div>
    </div>
    <!-- Успішне проходження рівня -->
    <div class="modal-win" style="display: none;">
        <div class="modal-content-win">
            <audio id="win-audio">
                <source src="audio/winning-sound.mp3" type="audio/mpeg">
                Ваш браузер не підтримує цей аудіо елемент.
            </audio>
            <dotlottie-player src="https://lottie.host/b7fcc28e-959b-4e65-a049-7d93280b4964/d7EZosMYqP.json" 
            background="transparent" speed="1" loop autoplay></dotlottie-player>
            <p>Вітаємо! Ви пройшли усі рівні!<br>Бажаєте пройти гру повторно з самого спочатку?</p>
            <div class="modal-buttons-win">
                <button class="next-level">Спочатку<i class="fa-solid fa-rotate-left icon-space" style="color: #F5EDFF;"></i></button>
                <button class="back-to-main">Завершити</button>
            </div>
            <!-- Підтвердження завершення гри -->
            <div class="modal-warning" style="display: none;">
                <div class="modal-content-warning">
                    <p>Ви впевнені, що хочете вийти?</p>
                    <div class="modal-buttons-warning">
                        <button class="cancel-warning">Скасувати</button>
                        <button class="confirm-warning">Продовжити</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Час вичерпано -->
    <div class="modal-timeout">
        <div class="modal-content-timeout">
            <audio id="time-out-audio">
                <source src="audio/timeout-sound.wav" type="audio/mpeg">
                Ваш браузер не підтримує цей аудіо елемент.
            </audio>
            <p>Час вичерпано! Спробуйте ще раз.</p>
            <div class="modal-buttons-timeout">
                <button class="retry-game">Повторити<i class="fa-solid fa-rotate-left icon-space" style="color: #F5EDFF;"></i></button>
                <button class="back-to-main-timeout">Завершити</button>
            </div>
        </div>
    </div>
    <script src="js/audio.js"></script>
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
    <script src="js/level3.js"></script>
    <script src="js/notifications_lev3.js"></script>
    <script src="js/exit_game.js"></script>
</body>
</html>
